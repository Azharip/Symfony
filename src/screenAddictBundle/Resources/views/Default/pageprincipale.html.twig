{% extends "screenAddictBundle::layout.html.twig" %}

{% block title %}{{ parent() }} - Page principale{% endblock %}

{% block body %}
	<div>
		<form action="{{ path('logout') }}" method="post">
			<input type="submit" value="DÃ©connection" />
		</form>
	</div>

	<div>
		<h1 href="{{ path('home')}}">screenAddict</h1>
		<p id="menuRoot">
			{{ app.user.username }}
		</p>
		<div id="menuUser">
			{{ knp_menu_render('screenAddictBundle:Builder:menuUser') }}
		</div>
	</div>
	<div>
		<div id="leftbodymain">
		</div>

	<div>
		{{ form(mesform)}}

	</div>

		<div id="bodymain">
			{{ form(mesform)}}
			{% for message in messageList %}
				<div id="posts">
					<p>{{message.content}}</p>
					par : {{message.usernameAuthor}} le {{message.datePost|date("d/m/Y")}}
				</div>
			{% endfor %}
		</div>

		<div id="rightbodymain">
		</div>
	</div>

	<script>
		var list = document.getElementsByTagName("input");
		list[1].onclick = function() {clear()};
		list[1].onfocusout = function() {focusout()};

		var menuRoot = document.getElementById("menuRoot");
		var menuUser = document.getElementById("menuUser");
		var isMenuUserDeployed = false;
		menuRoot.onmousedown = function() {showMenu()};

		function clear()
        {
            list[1].value="";
        }

		function focusout()
        {
            list[1].value="Entrez votre message";
        }

		function showMenu()
		{
			if(!isMenuUserDeployed){
				menuUser.style.visibility = "visible"
				isMenuUserDeployed = true;
			}
			else {
				menuUser.style.visibility = "hidden"
				isMenuUserDeployed = false;
			}
		}
	</script>

{% endblock %}
